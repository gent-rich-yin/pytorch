include(${CMAKE_CURRENT_LIST_DIR}/ProtoBuf.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/External/nnpack.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/public/mkldnn.cmake)
include(${CMAKE_CURRENT_LIST_DIR}/FlatBuffers.cmake)

include directories:
    third_party/googletest/googletest/include
    third_party/googletest/googlemock/include
    ${CMAKE_CURRENT_LIST_DIR}/../third_party/eigen (no build on it)
    ${CMAKE_CURRENT_LIST_DIR}/../third_party/tensorpipe/third_party/libuv/include
    ${CMAKE_CURRENT_LIST_DIR}/../third_party/gloo
    ${PROJECT_BINARY_DIR}/third_party/gloo
    /home/user/pytorch/third_party/ideep/mkl-dnn/include/oneapi/dnnl;/home/user/pytorch/third_party/ideep/include;/home/user/pytorch/third_party/ideep/mkl-dnn/include/oneapi/dnnl;/home/user/anaconda3/include
    third_party/nlohmann/include
    third_party/concurrentqueue

libraries:
MKL (for BLAS)
    MKL_LIBRARY: /home/user/anaconda3/lib/libmkl_intel_lp64.so;/home/user/anaconda3/lib/libmkl_gnu_thread.so;/home/user/anaconda3/lib/libmkl_core.so;-fopenmp;/usr/lib/x86_64-linux-gnu/libpthread.a;/usr/lib/x86_64-linux-gnu/libm.so;/usr/lib/x86_64-linux-gnu/libdl.a
    MKL_INCLUDE_DIR: /home/user/anaconda3/include
    MKL_OPENMP_LIBRARY: -fopenmp
    MKL_OPENMP_TYPE: GNU
OpenMP:
    OpenMP_CXX_LIBRARIES: /home/user/anaconda3/envs/torch-dev/lib/libgomp.so    
rt
httplib (interface imported)
nlohmann (interface imported)
moodycamel (interface imported)

third_parties:
    from Dependencies.cmake:
        cpuinfo
        FP16
        FXdiv
        psimd
        pthreadpool   

CXX_Flags:
    from Dependencies.cmake:
        -DUSE_PTHREADPOOL
        -fopenmp
        -DTORCH_USE_LIBUV
        -DCAFFE2_USE_GLOO
        -DONNX_ML=1
        -DONNXIFI_ENABLE_EXT=1
        -DONNX_NAMESPACE=onnx_torch
        -DNDEBUG
        -DHAVE_MMAP=1
        -D_FILE_OFFSET_BITS=64
        -DHAVE_SHM_OPEN=1
        -DHAVE_SHM_UNLINK=1
        -DHAVE_MALLOC_USABLE_SIZE=1
        -DUSE_EXTERNAL_MZCRC
        -DMINIZ_DISABLE_ZIP_READER_CRC32_CHECKS

subdirectories:
    from Dependencies.cmake:
        third_party/pthreadpool (build outputs to build/confu-deps/pthreadpool)
        third_party/cpuinfo (build outputs to build/confu-deps/cpuinfo)
        aten/src/ATen/native/quantized/cpu/qnnpack (build outputs to build/confu-deps/pytorch_qnnpack)
        third_party/googletest (build outputs to third_party/googletest)
        third_party/benchmark (build outputs to third_party/benchmark)
        third_party/fbgemm (build outputs to third_party/fbgemm)
        third_party/ittapi (build outputs to third_party/ittapi)
        third_party/FP16 (build outputs to build/confu-deps/FP16)
        third_party/tensorpipe (build outputs to third_party/tensorpipe)
        third_party/gloo (build outputs to third_party/gloo)
        third_party/onnx (build outputs to third_party/onnx)
        third_party/fmt (build outputs to third_party/fmt)

library targets:
    pybind::pybind11 (interface imported)
    opentelemetry::api (interface imported)
    caffe2::openmp (interface imported)
    torch::nvtx3 (interface imported)